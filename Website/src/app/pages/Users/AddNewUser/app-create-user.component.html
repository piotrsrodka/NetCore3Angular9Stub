<app-header></app-header>

<div class="container">

  <div>
    <div class="row justify-content-center">
      <div class="col-md-6">
        <h1 *ngIf="isNew">Tworzenie konta użytkownika</h1>
        <h1 *ngIf="!isNew">Edycja konta użytkownika</h1>
        <div class="card">
          <div class="card-body">
            <div class="form-group">
              <label for="userName">Nazwa konta</label>
              <input name="userName" class="form-control" type="text" (keyup)="checkUserName()"
                [(ngModel)]="user.name" />
              <small *ngIf="!isUserNameValid" class="text-danger">
                Nazwa użytkownika nie może być pusta.
              </small>
            </div>
            <div class="form-group">
              <label for="userEmail">Adres E-mail</label>
              <input name="userEmail" class="form-control" type="email" [(ngModel)]="user.email" />
            </div>
            <div *ngIf="isNew" class="form-group">
              <label for="userPassword">Hasło</label>
              <input name="userPassword" class="form-control" type="text" (keyup)="onRepeatPassChange()"
                [(ngModel)]="user.password" />
            </div>
            <div *ngIf="isNew" class="form-group">
              <label for="repeatPassword">Powtórz hasło</label>
              <input name="repeatPassword" class="form-control" type="text" (keyup)="onRepeatPassChange()"
                [(ngModel)]="repeatPasswordField" />
              <small *ngIf="!passwordsMatch" class="text-danger">
                Hasło powinno być identyczne w obu polach.
              </small>
            </div>
            <div class="form-group">
              <label for="userRole">Rola</label>
              <select name="userRole" class="form-control" [(ngModel)]="user.role">
                <option [value]="role.Admin">Admin</option>
                <option [value]="role.Client">Klient</option>
              </select>
            </div>
            <div class="form-group">     
              <label for="userIsActive">Konto aktywne      
              <input class="myAppCheckbox" type="checkbox" name="userIsActive" (change)="isActiveChange()" [checked]="user.isActive"/>
              </label>   
            </div>
            <div class="d-flex justify-content-center">
              <button class="btn btn-outline-secondary" type="button"
                (click)="cancel()">Wróć</button>
                &nbsp;&nbsp;&nbsp;
              <button [disabled]="isSaveDisabled()" class="btn btn-success" type="button"
                (click)="save()">Zapisz</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<app-footer></app-footer>
